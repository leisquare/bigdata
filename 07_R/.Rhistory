ggplot(data=mtcars, aes(x=mpg,fill=cyl))+
geom_density()+
labs(title='밀도도표',
x='miles per gallon')+
theme(legend.position = c(0.8,0.8))
colnames(economics)
#tlrks(data)에 따른 실업률(unemploy)
ggplot(data=economics,aes(x=datemy=unemploy))+
geom_line()+
geom_smooth(meethod='lm') #적합도선
#tlrks(data)에 따른 실업률(unemploy)
ggplot(data=economics,aes(x=datemy=unemploy))+
geom_line()+
geom_smooth(method='lm') #적합도선
#tlrks(data)에 따른 실업률(unemploy)
ggplot(data=economics,aes(x=date,y=unemploy))+
geom_line()+
geom_smooth(method='lm') #적합도선
ggplot(data=mpg,aes(x=manufacturer))+geom_bar()
ggplot(data=mpg,aes(x=manufacturer))+geom_histogram() #안됨
ggplot(data=mpg,aes(x=manufacturer))+geom_bar()
ggplot(data=mpg,aes(x=manufacturer))+
geom_bar(stat='count')
str(mpg$class)
ggplot(data-mpg,aes(x=manufacturer,fill=class))+
geom_bar()+
theme(legend.position = "top",
axis.text.x=element_text(angle=45))
ggplot(data=mpg,aes(x=manufacturer,fill=class))+
geom_bar()+
theme(legend.position = "top",
axis.text.x=element_text(angle=45),vjust = 0.5)
ggplot(data=mpg,aes(x=manufacturer,fill=class))+
geom_bar()+
theme(legend.position = "top",
axis.text.x=element_text(angle=45,vjust = 0.5))
str(mpg$class)
ggplot(data=mpg,aes(x=manufacturer,fill=class))+
geom_bar()+
theme(legend.position = "top",
axis.text.x=element_text(angle=45,vjust = 0.5))+
scale_fill_manual(values=heat.colors(5))
ggplot(data=mpg,aes(x=manufacturer,fill=class))+
geom_bar()+
theme(legend.position = "top",
axis.text.x=element_text(angle=45,vjust = 0.5))+
scale_fill_manual(values=heat.colors(7))
ggplot(data=mpg,aes(x=manufacturer,fill=class))+
geom_bar()+
theme(legend.position = "top",
axis.text.x=element_text(angle=45,vjust = 0.5))+
scale_fill_manual(values=topo.colors(7))
ggplot(data=mpg,aes(x=manufacturer,fill=class))+
geom_bar()+
theme(legend.position = "top",
axis.text.x=element_text(angle=45,vjust = 0.5))+
scale_fill_manual(values=topo.colors(7))+ #at 16pages
labs(title="제조사별 class빈도표")
#다이아몬드 품질별 데이터
head(diamonds)
table(diamonds$cul)
table(diamonds$cut)
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(dia,onds,aes(x=cut,fill=cut))
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(diamonds,aes(x=cut,fill=cut))
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(diamonds,aes(x=cut,fill=cut))+
geom_bar()
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(diamonds,aes(x=cut,fill=cut))+
geom_bar(col='red')
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(diamonds,aes(x=cut,fill=cut))+
geom_bar(col='red',stat="count")
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(diamonds,aes(x=cut,fill=cut,col=cut))+
geom_bar(col='red',stat="count")
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(diamonds,aes(x=cut,fill=cut,col=cut))+
geom_bar(stat="count")
#다이아몬드 품질(컷)별 변도수 시각화
ggplot(diamonds,aes(x=cut,fill=cut,col=cut))+
geom_bar(stat="count")+
scale_fill_manual(values=topo.colors(5))
ggplot(diamonds,aes(x=cut,fill=cut,col=cut))+
geom_bar(stat="count")+
scale_color_manual(values=topo.colors(5))
ggplot(diamonds,aes(x=cut,fill=cut,col=cut))+
geom_bar(stat="count")+
scale_color_manual(values=rainbow.colors(5))
ggplot(diamonds,aes(x=cut,fill=cut,col=cut))+
geom_bar(stat="count")+
scale_color_manual(values=rainbow(5))
#다이아몬드 품질별 색상갯수
table(diamonds$cut,diamonds$color)
table(diamonds$color)
library(dplyr)
diamonds %>%
group_by(cut,color) %>%
summarise(n=n())
class(x)
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_bar(stat='count')
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_bar(stat='identity')
?geom_bar
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_col()
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_col(position='dodge')
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_bar(stat='identity',position='dodge');
#다이아몬드 품질별 table의 종류 갯수
length(table(diamonds(table)))
table(diamonds)
diamonds
#따로그리기
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_bar(stat='identity',position='dodge');
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_col(position='dodge')
#따로그리기
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_bar(stat='identity',position='dodge');
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_col(position='dodge')
diamonds
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
ggplot(aes(x=table,y=n,fill=cut))+
geom_bar()
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
ggplot(aes(x=table,y=n,fill=cut))+
geom_bar(stat='idendity')
diamonds %>%
group_by(cut,color) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,fill=color,y=n))+
geom_col(position='dodge')
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
ggplot(aes(x=table,y=n,fill=cut))+
geom_bar(stat='idendity')
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
ggplot(aes(x=table,y=n,fill=cut))+
geom_bar(stat='identity')
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
ggplot(aes(x=table,y=n,fill=cut))+
geom_bar(stat='identity')+
facet_wrap(~cut)
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
ggplot(aes(x=table,y=n,fill=cut))+
geom_bar(stat='identity')+
facet_wrap(~cut)+
coord_cartesian(ylim=(0,3000),xlim=c(50,80))
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
ggplot(aes(x=table,y=n,fill=cut))+
geom_bar(stat='identity')+
facet_wrap(~cut)+
coord_cartesian(ylim=c(0,3000),xlim=c(50,80))
#다이아몬드 품질별 table의 종류 갯수
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
group_by(cut) %>%
summarise(n=n())
#다이아몬드 품질별 table의 종류 갯수
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
length(table(diamonds(table)))
#다이아몬드 품질별 table의 종류 갯수
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
length(table(diamonds(table)))
#다이아몬드 품질별 table의 종류 갯수
diamonds %>%
group_by(cut,table) %>%
summarise(n=n())
#다이아몬드 품질별 table의 종류 갯수
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
group_by(cut) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,y=n))+
geom_bar(stat='identity')+
facet_wrap(~cut)
#다이아몬드 품질별 table의 종류 갯수
diamonds %>%
group_by(cut,table) %>%
summarise(n=n()) %>%
group_by(cut) %>%
summarise(n=n()) %>%
ggplot(aes(x=cut,y=n,fill=cut))+
#geom_bar(stat='identity')+
geom_col()
boxplot(iris$Sepal.Length)
dev.off()
#4.8 그래프를 파일로 저장
#(1)
jpeg('iris.jpg')#iris.jpg 그림파일 생성
dev.off()
getwd
#4.8 그래프를 파일로 저장
#(1)
jpeg('iris.jpg')#iris.jpg 그림파일 생성
boxplot(iris$Sepal.Length)
dev.off()
getwd
getwd()
png('iris.png',width=300,height=150)
png('iris.png',width=300,height=150)
ggplot(iris,aes(x=Sepal.Length,y=Sepal.Width))+
geom_point()+
facet-wrap(~Species)
ggplot(iris,aes(x=Sepal.Length,y=Sepal.Width))+
geom_point()+
facet_wrap(~Species)
dev.off
getwd()
png('iris2.png',width=300,height=150)
ggplot(iris,aes(x=Sepal.Length,y=Sepal.Width))+
geom_point()+
facet_wrap(~Species)
dev.off
boxplot(iris$Sepal.Length)
boxplot(iris$Sepal.Length)
diamonds %>%
group_by(cut) %>%
summarise(n=n_distinct(table)) %>%  #cut을 table종류수로
ggplot(aes(x=cut,y=n,fill=cut))+
#geom_bar(stat='identity')
geom_col()
boxplot(iris$Sepal.Length)
diamonds %>%
group_by(cut) %>%
summarise(n=n_distinct(table)) %>%  #cut을 table종류수로
ggplot(aes(x=cut,y=n,fill=cut))+
#geom_bar(stat='identity')
geom_col()
dev.off()
getwd()
boxplot(iris$Sepal.Length)
png('iris2.png',width=300,height=150)
ggplot(iris,aes(x=Sepal.Length,y=Sepal.Width))+
geom_point()+
facet_wrap(~Species)
dev.off
ggplot(iris,aes(x=Petal.Width,y=Petal.Length,col=Species))
library(ggplot2)
library(gapminder)
library(dplyr)
library(ggplot2)
library(gapminder)
library(dplyr)
library(ggplot2)
library(gapminder)
library(dplyr)
ggplot(cars,aes(x=speed,y=dist))+
coord_cartesian(xlim=c(5,20),ylim=c(0,100))+
geom_point()+
geom_smooth()
library(ggplot2)
ggplot(gapminder,aes(x=gdpPercap,y=lifeExp,col=continent))+
geom_point()
library(ggplot2)
gapminder %>%
filter(lifeExp>70) %>%
group_by(continent) %>%
summarise(n=n()) %>%
ggplot(aes(x=continent,y=n,fill=continent))+
geom_bar(stat='identity')+
labs(title="연습문제 3",
subtitle="기대수명이 70을 초과하는 데이터 빈도(대륙별)",
x="대륙",y="빈도")
library(ggplot2)
gapminder %>%
filter(lifeExp>70) %>%
group_by(continent,country) %>%
summarise(n=n()) %>%
group_by(continent) %>%
summarise(n=n())%>%
ggplot(aes(x=continent,y=n,fill=continent))+
geom_col()+
labs(title="연습문제 4",
subtitle="기대수명이 70을 초과하는 대륙별 나라 빈도",
x="대륙",y="나라 빈도")
ggplot(gapminder, aes(y=lifeExp, x=continent))  +
geom_boxplot(aes(col=continent),fill='white')
ggplot(gapminder, aes(x=gdpPercap,y=lifeExp))  +
geom_point(aes(col=continent),alpha=0.6,pch=1)+
facet_wrap(~year)+
scale_x_log10()+
#coord_cartesian(xlim=c(5,10000))
labs(title="연습문제 6",
subtitle="GDP와 기대수명과의 관계",
x="gdpPercap",y="lifeExp")
gapminder %>%
filter(substr(country, 1, 5) =='Korea') %>%
ggplot(aes(x=year,y=gdpPercap))  +
geom_point(aes(col=country),pch=16)+
labs(title="연습문제 7",
subtitle="GDP의 변화(한국과 북한)")+
theme(legend.position = c(0.3,0.85))
gapminder %>%
filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=year,y=gdpPercap))  +
geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=year,y=gdpPercap,group=country,color=country))+
labs(title="연습문제 8",
subtitle="한중일 4개국의 GDP 변화 꺾은선그래프 ")
gapminder %>%
filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=year,y=pop))  +
geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=year,y=pop,group=country,color=country))+
labs(title="연습문제 8",
subtitle="한중일 4개국의 GDP 변화 꺾은선그래프 ")+
scale_y_continuous(labels = scales::comma)
economics %>%
#filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=date,y=psavert))  +
#geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=date,y=psavert,color='red'))+
labs(title="연습문제 10",
subtitle="개인저축률 시계열그래프 ")+
theme(legend.position ="none")
gapminder %>%
filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=year,y=pop))  +
geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=year,y=pop,group=country,color=country))+
labs(title="연습문제 9",
subtitle="한중일 4개국의 GDP 변화 꺾은선그래프 ")+
scale_y_continuous(labels = scales::comma)
ggplot(gapminder, aes(y=lifeExp, x=continent))  +
geom_boxplot(aes(col=continent),fill='white')+
labs(title="연습문제 5",
subtitle="대륙별 기대수명의 사분위수")
ggplot(gapminder, aes(x=gdpPercap,y=lifeExp))  +
geom_point(aes(col=continent),alpha=0.6,pch=16)+
facet_wrap(~year)+
scale_x_log10()+
#coord_cartesian(xlim=c(5,10000))
labs(title="연습문제 6",
subtitle="GDP와 기대수명과의 관계",
x="gdpPercap",y="lifeExp")
gapminder %>%
filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=year,y=pop))  +
geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=year,y=pop,group=country,color=country))+
labs(title="연습문제 9",
subtitle="한중일 4개국의 인구변화 꺾은선그래프 ")+
scale_y_continuous(labels = scales::comma)
### 연습문제 1
#datasets::cars데이터 셋을 이용하여 속도에 대한 제동거리의 산점도와 적합도(신뢰구간\그래프)를 나타내시오
#(단, 속도가 5부터 20까지 제동거리 0부터 100까지만 그래프에 나타냄).
ggplot(cars,aes(x=speed,y=dist))+
coord_cartesian(xlim=c(5,20),ylim=c(0,100))+
geom_point()+
geom_smooth()
library(ggplot2)
library(ggplot2)
library(ggplot2)
gapminder %>%
filter(lifeExp>70) %>%
group_by(continent) %>%
summarise(n=n()) %>%
ggplot(aes(x=continent,y=n,fill=continent))+
geom_bar(stat='identity')+
labs(title="연습문제 3",
subtitle="기대수명이 70을 초과하는 데이터 빈도(대륙별)",
x="대륙",y="빈도")
library(ggplot2)
library(ggplot2)
ggplot(gapminder,aes(x=gdpPercap,y=lifeExp,col=continent))+
geom_point()
ggplot(gapminder,aes(x=gdpPercap,y=lifeExp,col=continent))+
geom_point()
library(ggplot2)
gapminder %>%
filter(lifeExp>70) %>%
group_by(continent) %>%
summarise(n=n()) %>%
ggplot(aes(x=continent,y=n,fill=continent))+
geom_bar(stat='identity')+
labs(title="연습문제 3",
subtitle="기대수명이 70을 초과하는 데이터 빈도(대륙별)",
x="대륙",y="빈도")
library(ggplot2)
library(ggplot2)
library(ggplot2)
ggplot(gapminder,aes(x=gdpPercap,y=lifeExp,col=continent))+
geom_point()
library(ggplot2)
ggplot(gapminder,aes(x=gdpPercap,y=lifeExp,col=continent))+
geom_point()
library(ggplot2)
ggplot(gapminder,aes(x=gdpPercap,y=lifeExp,col=continent))+
geom_point();
ggplot(gapminder,aes(x=gdpPercap,y=lifeExp,col=continent))+
geom_point();
gapminder %>%
filter(lifeExp>70) %>%
group_by(continent) %>%
summarise(n=n()) %>%
ggplot(aes(x=continent,y=n,fill=continent))+
geom_bar(stat='identity')+
labs(title="연습문제 3",
subtitle="기대수명이 70을 초과하는 데이터 빈도(대륙별)",
x="대륙",y="빈도")
gapminder %>%
filter(lifeExp>70) %>%
group_by(continent,country) %>%
summarise(n=n()) %>%
group_by(continent) %>%
summarise(n=n())%>%
ggplot(aes(x=continent,y=n,fill=continent))+
geom_col()+
labs(title="연습문제 4",
subtitle="기대수명이 70을 초과하는 대륙별 나라 빈도",
x="대륙",y="나라 빈도")
### 연습문제 5
#gapminder::gapminder 데이터 셋을 이용하여 대륙별 기대수명의 사분위수를 시각화
ggplot(gapminder, aes(y=lifeExp, x=continent))  +
geom_boxplot(aes(col=continent),fill='white')+
labs(title="연습문제 5",
subtitle="대륙별 기대수명의 사분위수")
### 연습문제 6
#gapminder::gapminder 데이터 셋을 이용하여 년도별로 gdp와 기대수명과의 관계를
#산점도를 그리고 대륙별 점의 색상을 달리 시각화
ggplot(gapminder, aes(x=gdpPercap,y=lifeExp))  +
geom_point(aes(col=continent),alpha=0.6,pch=16)+
facet_wrap(~year)+
scale_x_log10()+
#coord_cartesian(xlim=c(5,10000))
labs(title="연습문제 6",
subtitle="GDP와 기대수명과의 관계",
x="gdpPercap",y="lifeExp")
gapminder %>%
filter(substr(country, 1, 5) =='Korea') %>%
ggplot(aes(x=year,y=gdpPercap))  +
geom_point(aes(col=country),pch=16)+
labs(title="연습문제 7",
subtitle="GDP의 변화(한국과 북한)")+
theme(legend.position = c(0.3,0.85))
gapminder %>%
filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=year,y=gdpPercap))  +
geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=year,y=gdpPercap,group=country,color=country))+
labs(title="연습문제 8",
subtitle="한중일 4개국의 GDP 변화 꺾은선그래프 ")
gapminder %>%
filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=year,y=pop))  +
geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=year,y=pop,group=country,color=country))+
labs(title="연습문제 9",
subtitle="한중일 4개국의 인구변화 꺾은선그래프 ")+
scale_y_continuous(labels = scales::comma)
economics %>%
#filter(substr(country, 1, 5) %in% c('Korea','China','Japan')) %>%
ggplot(aes(x=date,y=psavert))  +
#geom_point(aes(col=country),pch=16)+
geom_line(mapping=aes(x=date,y=psavert,color='red'))+
labs(title="연습문제 10",
subtitle="개인저축률 시계열그래프 ")+
theme(legend.position ="none")
